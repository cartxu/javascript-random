<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map Method</title>
</head>
<body>

    
    <h1>Usuarios Premium</h1> 
    <p id="pPremium"> 
       
    </p>
    <h1> Usuarios no Premium</h1>
    <p id="notPremium"> 
        
    </p>
    <h1>Nombres > 5 letras</h1>
    <p id="nombres">
    </p>

    <h1>Usuarias con pin par</h1>
    <p id="pares"></p>

    <script type=text/javascript>
    //Programa que recorre el array con map y comprueba qué usuarios son premium para saludar de una forma u otra. 
        document.addEventListener('DOMContentLoaded', function () {
            const users = [
                { name: 'María', isPremium: false, pin: 2389 },
                { name: 'Lucía', isPremium: true, pin: 2384 },
                { name: 'Susana', isPremium: true, pin: 2837 },
                { name: 'Rocío', isPremium: false, pin: 5232 },
                { name: 'Inmaculada', isPremium: false, pin: 8998 }
                ];

            const saludos = users.map(user => {
                if(user.isPremium === true){
                    const premium = document.createElement('p');
                    premium.innerHTML = `Bienvenida ${user.name}. Gracias por confiar en nosotros`;
                    document.querySelector('#pPremium').append(premium);
                } else {
                    const notPremium = document.createElement('p');
                    notPremium.innerHTML = `Bienvenida ${user.name}.`;
                    document.querySelector('#notPremium').append(notPremium);
                }
            })

            const longNames = users.filter(user => user.name.length > 5);
             //devuelve en consola los nombres del array que son mayores de 5.
            longNames.forEach(user => {
                const longNames = document.createElement('p');
                longNames.innerHTML = `El nombre "${user.name} tiene más de 5 letras.`;
                document.querySelector('#nombres').appendChild(longNames);
            })

            const premiumUsers = users.filter(user => user.isPremium === true);
             //En lugar de usar ifs como hemos hecho arriba, podemos usar filter para hacer lo mismo:

            premiumUsers.forEach(user => {
                const premium = document.createElement('p');
                premium.innerHTML = `Bienvenida ${user.name}. Gracias por confiar en nosotros`;
                document.querySelector('#pPremium').append(premium);
            });
                
            const notPremium = users.filter(user => user.isPremium !== true);
            notPremium.forEach(user => {
                const notPremium = document.createElement('p');
                notPremium.innerHTML = `Bienvenida ${user.name}.`;
                document.querySelector('#notPremium').append(notPremium);
            })
            
            //Podemos comprobar que el resultado es el mismo con ambos métodos.

            // Ahora vamos a filtrar los usuarios por su pin, solo los que tienen un pin par.

            const pinPar = users.filter(user => user.pin % 2 === 0);
            pinPar.forEach(user => {
                const pares = document.createElement('p');
                pares.innerHTML = `Enhorabuena ${user.name}, tu pin es par y puedes acceder.`;
                document.querySelector('#pares').append(pares);
            })

            //encontrar al usuario con pin 5232 con el método find

            const userPin = users.find(user => user.pin === 5232);
            console.log(userPin.name);

            //ordenar numeros cn sort

            const times = [56, 9, 45, 28, 35];

            times.sort((a, b) => a - b);
            console.log(times);

            //ordenar alfabéticamente

            users.sort((a,b) => {
                if(a.name > b.name) {
                    return 1;
                }
                if(a.name < b.name) {
                    return -1
                }
                return 0;
            });
            console.log(users);

            // ordenar usuarios por número de pin

            users.sort((a,b) => a.pin - b.pin);
            console.log(users);
    

        });
    
    </script>
</body>
</html>